<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Baby Sets</title>
    <link href="../assets/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Include Header -->
    <div id="header-placeholder"></div>

    <!-- Product Cards -->
    <section id="product-cards" class="container">
      <div class="row" id="product-row">
        <!-- Product cards will be dynamically added here -->
      </div>
    </section>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <script>
      // Load Header
      fetch("header.html")
        .then((response) => response.text())
        .then(
          (data) =>
            (document.getElementById("header-placeholder").innerHTML = data)
        );

      // Load Footer
      fetch("footer.html")
        .then((response) => response.text())
        .then(
          (data) =>
            (document.getElementById("footer-placeholder").innerHTML = data)
        );

      const products = [
        {
          name: "Baby Set 1",
          imgSrc: "product1.jpg",
          sizes: ["S", "M", "L"],
          colors: [
            { className: "red", imgSrc: "product1-red.jpg" },
            { className: "blue", imgSrc: "product1-blue.jpg" },
          ],
        },
        // Add more products here
      ];

      function createProductCard({ name, imgSrc, sizes, colors }) {
        const card = document.createElement("div");
        card.classList.add("col-sm-6", "col-md-4", "col-lg-3");
        card.innerHTML = `
      <div class="card">
        <img src="${imgSrc}" class="card-img-top product-img" alt="${name}">
        <div class="card-body">
          <h5 class="card-title">${name}</h5>
          <div class="d-flex justify-content-between">
            <div class="size-options">
              ${sizes.map((size) => `<span>${size}</span>`).join("")}
            </div>
            <fieldset class="color-selection">
              <div class="color-swatches">
                ${colors
                  .map(
                    (color, index) => `
                  <div class="swatch">
                    <input type="radio" id="color${index}-${name}" name="color-${name}" value="color${index}" data-img-src="${color.imgSrc}">
                    <label for="color${index}-${name}" class="${color.className}"></label>
                  </div>`
                  )
                  .join("")}
              </div>
            </fieldset>
          </div>
        </div>
      </div>
    `;
        document.getElementById("product-row").appendChild(card);
      }

      products.forEach((product) => createProductCard(product));

      function initProductCards() {
        document
          .querySelectorAll(".color-selection input[type='radio']")
          .forEach((radio) => {
            radio.addEventListener("click", (e) => {
              const imgElement = e.target
                .closest(".card")
                .querySelector(".product-img");
              imgElement.src = e.target.getAttribute("data-img-src");
            });
          });
      }

      initProductCards();
    </script>
  </body>
</html>
